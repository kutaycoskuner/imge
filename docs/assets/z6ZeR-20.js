import{L as H,_ as N,r as p,j as x,o as I,f as E,t as d,v as c,x as r,y as Y,M as C,N as K,z as X,O as F,P as W,Q as G,G as Q,R as z,S as O,T as J,C as ee,D as te}from"./DSp_XfE9.js";const $=H("imgeStore",{state:()=>({screenSize:1920,screenSizeName:"pc",screenSizeIndex:2,colorMode:"dark",coords_base_x_offset:0,coords_base_y_offset:0,coords_state_x_offset:0,coords_state_y_offset:0}),getters:{get_screenSize(e){return e.screenSize},get_screenSizeName(e){return e.screenSizeName},get_screenSizeIndex(e){return e.screenSizeIndex},get_colorMode(e){return e.colorMode},get_coordsBaseXOffset(e){return e.coords_base_x_offset},get_coordsBaseYOffset(e){return e.coords_base_y_offset},get_coordsStateXOffset(e){return e.coords_state_x_offset},get_coordsStateYOffset(e){return e.coords_state_y_offset}},actions:{set_screenSize(e){this.screenSize=e},set_screenSizeName(e){this.screenSizeName=e},set_screenSizeIndex(e){this.screenSizeIndex=e},set_colorMode(e){this.colorMode=e},set_coordsBaseXOffset(e){this.coords_base_x_offset=e},set_coordsBaseYOffset(e){this.coords_base_y_offset=e},set_coordsStateXOffset(e){this.coords_state_x_offset=e},set_coordsStateYOffset(e){this.coords_state_y_offset=e}}}),oe={class:"mouse-tracker"},se={class:"coordinates"},ne={__name:"CoordTracker",setup(e){const s=$(),_=p(0),f=p(0),l=x(()=>s.get_coordsBaseXOffset),y=x(()=>s.get_coordsBaseYOffset),k=x(()=>s.get_coordsStateXOffset),S=x(()=>s.get_coordsStateYOffset),u=h=>{_.value=h.clientX-l.value-k.value,f.value=-(h.clientY-y.value-S.value)},M=()=>{s.set_coordsBaseXOffset(window.innerWidth/2),s.set_coordsBaseYOffset(window.innerHeight/2)};return I(()=>{M(),window.addEventListener("mousemove",u),window.addEventListener("resize",M)}),E(()=>{window.removeEventListener("mousemove",u),window.removeEventListener("resize",M)}),(h,g)=>(d(),c("div",oe,[r("div",se," x: "+Y(_.value)+", y: "+Y(f.value),1)]))}},ae=N(ne,[["__scopeId","data-v-fed2d4ea"]]),ie={class:"ncolor-mode"},re=r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"})],-1),de=[re],ce=r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 26 26","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"})],-1),le=[ce],ue=r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 26 26","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.53 16.122a3 3 0 00-5.78 1.128 2.25 2.25 0 01-2.4 2.245 4.5 4.5 0 008.4-2.245c0-.399-.078-.78-.22-1.128zm0 0a15.998 15.998 0 003.388-1.62m-5.043-.025a15.994 15.994 0 011.622-3.395m3.42 3.42a15.995 15.995 0 004.764-4.648l3.876-5.814a1.151 1.151 0 00-1.597-1.597L14.146 6.32a15.996 15.996 0 00-4.649 4.763m3.42 3.42a6.776 6.776 0 00-3.42-3.42"})],-1),ve=[ue],_e={__name:"ColorMode",setup(e){const s=$();p(["system","light","dark","sepia"]);function _(f){const l={light:"dark",dark:"sepia",sepia:"light"};f in l&&s.set_colorMode(l[f])}return(f,l)=>(d(),c("div",ie,[f.$colorMode.value=="light"?(d(),c("div",{key:0,class:"light-mode",onClick:l[0]||(l[0]=y=>_("light"))},de)):C("",!0),f.$colorMode.value=="dark"?(d(),c("div",{key:1,class:"dark-mode",onClick:l[1]||(l[1]=y=>_("dark"))},le)):C("",!0),f.$colorMode.value=="sepia"?(d(),c("div",{key:2,class:"sepia-mode",onClick:l[2]||(l[2]=y=>_("sepia"))},ve)):C("",!0)]))}};function fe(){const e=$(),s=()=>{const _=window.innerWidth;e.screenSize=_,_<480?(e.screenSizeName="mobile",e.screenSizeIndex=0):_<1024?(e.screenSizeName="tablet",e.screenSizeIndex=1):(e.screenSizeName="pc",e.screenSizeIndex=2)};I(()=>{s(),window.addEventListener("resize",s)}),K(()=>{window.removeEventListener("resize",s)})}const pe={class:"access-wrapper"},he=F('<div class="access-function not-selected" data-v-953a3f82><svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" data-v-953a3f82><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14m-7 7V5" data-v-953a3f82></path></svg></div><div class="access-function not-selected" data-v-953a3f82><svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" data-v-953a3f82><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14" data-v-953a3f82></path></svg></div><div class="access-function not-selected" data-v-953a3f82><svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" data-v-953a3f82><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.926 10.898 15 7.727m-7.074 5.39L15 16.29M8 12a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0Zm12 5.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0Zm0-11a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0Z" data-v-953a3f82></path></svg></div><div class="access-function not-selected" data-v-953a3f82><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24   24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-953a3f82><path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3" data-v-953a3f82></path></svg></div><div class="access-function not-selected" data-v-953a3f82><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-953a3f82><path d="M18 15l-6-6-6 6" data-v-953a3f82></path></svg></div><div class="access-function not-selected" data-v-953a3f82><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-953a3f82><path d="M6 9l6 6 6-6" data-v-953a3f82></path></svg></div>',6),me={class:"access-function"},we={__name:"AccessibilityUI",setup(e){const s=$(),_=x(()=>s.get_screenSizeIndex);fe(),I(()=>{_.value<2&&(bbState.set_displayMinefieldKey(!1),bbState.set_displayRandomKey(!1)),window.addEventListener("keydown",f)}),E(()=>{window.removeEventListener("keydown",f)});const f=l=>{};return(l,y)=>{const k=_e;return d(),c("div",pe,[he,r("div",me,[X(k)])])}}},ge=N(we,[["__scopeId","data-v-953a3f82"]]),xe=()=>W("color-mode").value,ye={},ke={nodes:[{_id:0,type:"basic",position:{x:-400,y:140},data:{title:"First Node",inputs:[],outputs:[{id:"output_0",type:"basic",label:"Output A"}]}},{_id:1,type:"basic",position:{x:200,y:40},data:{title:"Second Node",inputs:[{id:"input_0",type:"basic",label:"Input A"}],outputs:[]}}],links:[{sourceNodeId:0,sourceOutputId:"output_0",targetNodeId:1,targetInputId:"input_0"}]},R={metadata:ye,data:ke},j=e=>(ee("data-v-3dd00ffe"),e=e(),te(),e),Se={class:"content"},Me=["onMousedown"],be={class:"inputs"},ze=["id"],$e=j(()=>r("div",{class:"indicator-io add-input hover-visible"},null,-1)),Oe={class:"outputs"},Ie=["id"],Be=j(()=>r("div",{class:"indicator-io add-output hover-visible"},null,-1)),Le=j(()=>r("div",{class:"content"},[r("div",{class:"add-content hover-visible"})],-1)),Ce={class:"connections",ref:"connectionsSvg"},Ye={__name:"index",setup(e){const s=$(),_=xe(),f=x(()=>s.get_coordsBaseXOffset),l=x(()=>s.get_coordsBaseYOffset);x(()=>s.get_coordsStateXOffset),x(()=>s.get_coordsStateYOffset);const y=p(R.data.nodes),k=p(R.data.links),S=p(null),u=p(null),M=p(null),h=p(1),g=p({x:0,y:0}),b=p({x:0,y:0}),m=p({x:0,y:0}),T=p(0),V=p(0),A=(t,n)=>{const v=y.value.find(a=>a._id===t);if(s.get_coordsStateXOffset,s.get_coordsStateYOffset,!v)return{x:0,y:0};const i=document.getElementById(`node${t}_${n}`);if(!i)return{x:0,y:0};const o=i.getBoundingClientRect();return{x:o.left+o.width/2,y:o.top+o.height/2}};function Z(t){const n=t.target.getBoundingClientRect(),v=n.left+n.width/2,i=n.top+n.height/2;T.value=t.clientX-v,V.value=-(t.clientY-i)}const D=t=>{t.preventDefault();const o=t.deltaY*-.001;h.value=Math.min(Math.max(h.value+o,.04),4),B()},U=(t,n)=>{t.preventDefault(),g.value={x:t.clientX,y:t.clientY};const v=o=>{const a=o.clientX-g.value.x,w=o.clientY-g.value.y;n.position.x+=a/h.value,n.position.y-=w/h.value,g.value={x:o.clientX,y:o.clientY},B(),L()},i=()=>{document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",i)};document.addEventListener("mousemove",v),document.addEventListener("mouseup",i)},P=t=>{t.preventDefault(),g.value={x:t.clientX,y:t.clientY},S.value&&u.value&&(u.value.style.cursor="grabbing");const n=i=>{const o=i.clientX-g.value.x,a=i.clientY-g.value.y,w=41;b.value={x:b.value.x+o,y:b.value.y+a},m.value={x:m.value.x+o>w||m.value.x+o<-w?m.value.x=0:m.value.x=m.value.x+o,y:m.value.y+a>w||m.value.y+a<-w?m.value.y=0:m.value.y=m.value.y+a},B(),g.value={x:i.clientX,y:i.clientY},s.set_coordsStateXOffset(b.value.x),s.set_coordsStateYOffset(b.value.y)},v=()=>{document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",v),u.value&&(u.value.style.cursor="grab")};document.addEventListener("mousemove",n),document.addEventListener("mouseup",v)},B=()=>{if(u.value&&M.value){u.value.style.transform=`scale(${h.value})`,M.value.style.transform=`scale(${h.value})`;const t=u.value.querySelector(".content");t&&(t.style.transform=`translate(${b.value.x}px, ${b.value.y}px)`);const n=u.value.querySelector(".connections");n&&(n.style.transform=`scale(${1/h.value})`),L()}},L=()=>{k.value.forEach(t=>{const n=A(t.sourceNodeId,t.sourceOutputId),v=A(t.targetNodeId,t.targetInputId),i=document.querySelector(`line:nth-child(${k.value.indexOf(t)+1})`);if(i){const o=n.x,a=n.y,w=v.x,q=v.y;i.setAttribute("x1",o),i.setAttribute("y1",a),i.setAttribute("x2",w),i.setAttribute("y2",q)}})};return I(()=>{G(()=>{L()}),S.value&&(S.value.addEventListener("wheel",D),S.value.addEventListener("mousedown",P))}),E(()=>{u.value&&(u.value.removeEventListener("wheel",D),u.value.removeEventListener("mousedown",P))}),Q(()=>s.get_colorMode,t=>{_.value=t}),(t,n)=>{const v=ae,i=ge;return d(),c(z,null,[r("div",{class:"viewport",ref_key:"viewport",ref:S},[r("div",{class:"zoomable-background",ref_key:"zoomableBackground",ref:u},[r("div",Se,[(d(!0),c(z,null,O(y.value,o=>(d(),c("div",{key:o._id,class:"node hover-control",style:J({left:o.position.x+f.value+"px",top:-(o.position.y-l.value)+"px"}),onMousedown:a=>U(a,o),onMouseover:n[0]||(n[0]=a=>Z(a))},[r("h3",null,Y(o.data.title),1),r("div",be,[(d(!0),c(z,null,O(o.data.inputs,(a,w)=>(d(),c("div",{id:`node${o._id}_${a.id}`,key:a.id,class:"node-input"},null,8,ze))),128)),$e]),r("div",Oe,[(d(!0),c(z,null,O(o.data.outputs,(a,w)=>(d(),c("div",{id:`node${o._id}_${a.id}`,key:a.id,class:"node-output"},null,8,Ie))),128)),Be]),Le],44,Me))),128))]),(d(),c("svg",Ce,[(d(!0),c(z,null,O(k.value,(o,a)=>(d(),c("line",{key:a,stroke:"currentColor","stroke-width":"2"}))),128))],512))],512),r("div",{class:"polka-dots",ref_key:"background",ref:M},null,512)],512),X(v),X(i)],64)}}},Ne=N(Ye,[["__scopeId","data-v-3dd00ffe"]]);export{Ne as default};
